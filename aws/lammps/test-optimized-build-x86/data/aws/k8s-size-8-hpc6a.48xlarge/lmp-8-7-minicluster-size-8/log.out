
As Flux prefix for flux commands: sudo -u flux -E PYTHONPATH=/opt/view/lib/python3.8/site-packages:/opt/software/linux-ubuntu22.04-x86_64/gcc-11.3.0/py-six-1.16.0-6kua2msevv7zpt2v5o3zpcrggc3bh2ft/lib/python3.8/site-packages:/opt/software/linux-ubuntu22.04-x86_64/gcc-11.3.0/py-setuptools-58.2.0-q7wigeatkzs5papxtwtbnqtmvi6v7kr2/lib/python3.8/site-packages:/opt/software/linux-ubuntu22.04-x86_64/gcc-11.3.0/py-pyrsistent-0.15.7-tecz2yr5bybegozimr4uwy2lqikvcuzv/lib/python3.8/site-packages:/opt/software/linux-ubuntu22.04-x86_64/gcc-11.3.0/py-attrs-21.2.0-faohd64ldp72ikyovdzvej4ft4q6fgdb/lib/python3.8/site-packages:/opt/software/linux-ubuntu22.04-x86_64/gcc-11.3.0/py-pycparser-2.20-6t2mz6zzl4huhd647mzogx363fnlj7rn/lib/python3.8/site-packages:/opt/software/linux-ubuntu22.04-x86_64/gcc-11.3.0/py-pyyaml-5.3.1-kw6u7udsnrjwekz6ivqus7wpwoqinvsr/lib/python3.8/site-packages:/opt/software/linux-ubuntu22.04-x86_64/gcc-11.3.0/py-ply-3.11-cigdgpxmwsstszwxrlnwny4r3i4xq4n7/lib/python3.8/site-packages:/opt/software/linux-ubuntu22.04-x86_64/gcc-11.3.0/py-jsonschema-3.2.0-rsayrnidw4abvgqkmnjnwnrqjrkz3ngt/lib/python3.8/site-packages:/opt/software/linux-ubuntu22.04-x86_64/gcc-11.3.0/py-cffi-1.15.0-bwkxf65lmwreclhba4sek42muql5luzk/lib/python3.8/site-packages -E PATH=/opt/view/bin:/opt/spack-environment/spack/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin -E FI_EFA_USE_DEVICE_RDMA=1 -E RDMAV_FORK_SAFE=1

ðŸ‘‹ Hello, I'm lammps-0
The main host is lammps-0
The working directory is /home/flux/examples/reaxff/HNS
README.txt	ffield.reax.hns  log.8Mar18.reaxc.hns.g++.1
data.hns-equil	in.reaxc.hns	 log.8Mar18.reaxc.hns.g++.4
flux R encode --hosts=lammps-[0-7] --cores=0-95

ðŸ“¦ Resources
{"version": 1, "execution": {"R_lite": [{"rank": "0-7", "children": {"core": "0-95"}}], "starttime": 0.0, "expiration": 0.0, "nodelist": ["lammps-[0-7]"]}}

ðŸ¸ Diagnostics: false
ðŸš©ï¸ Flux Option Flags defined

ðŸ¦Š Independent Minister of Privilege
[exec]
allowed-users = [ "flux", "root" ]
allowed-shells = [ "/usr/libexec/flux/flux-shell" ]	

ðŸ¸ Broker Configuration
# Flux needs to know the path to the IMP executable
[exec]
imp = "/usr/libexec/flux/flux-imp"

[access]
allow-guest-user = true
allow-root-owner = true

# Point to resource definition generated with flux-R(1).
[resource]
path = "/etc/flux/system/R"

[bootstrap]
curve_cert = "/etc/curve/curve.cert"
default_port = 8050
default_bind = "tcp://eth0:%p"
default_connect = "tcp://%h.flux-service.flux-operator.svc.cluster.local:%p"
hosts = [
	{ host="lammps-[0-7]"},
]
flux user is already added.
#   ****  Generated on 2023-02-11 20:31:06 by CZMQ  ****
#   ZeroMQ CURVE **Secret** Certificate
#   DO NOT PROVIDE THIS FILE TO OTHER USERS nor change its permissions.

metadata
    name = "lammps-cert-generator"
    keygen.czmq-version = "4.1.1"
    keygen.sodium-version = "1.0.18"
    keygen.flux-core-version = "0.47.0"
    keygen.hostname = "lammps-cert-generator"
    keygen.time = "2023-02-11T20:31:06"
    keygen.userid = "0"
    keygen.zmq-version = "4.3.3"
curve
    public-key = ".pRNf]E}YP(f&-1p?U$-}L!ea7lpo.wHe#kv1CWE"
    secret-key = "jzc*B.IdElaiLSPE5X6G+fxC+ezRJ1^[pvnC5.pp"

âœ¨ Curve certificate generated by helper pod
#   ****  Generated on 2023-02-11 20:31:06 by CZMQ  ****
#   ZeroMQ CURVE **Secret** Certificate
#   DO NOT PROVIDE THIS FILE TO OTHER USERS nor change its permissions.

metadata
    name = "lammps-cert-generator"
    keygen.czmq-version = "4.1.1"
    keygen.sodium-version = "1.0.18"
    keygen.flux-core-version = "0.47.0"
    keygen.hostname = "lammps-cert-generator"
    keygen.time = "2023-02-11T20:31:06"
    keygen.userid = "0"
    keygen.zmq-version = "4.3.3"
curve
    public-key = ".pRNf]E}YP(f&-1p?U$-}L!ea7lpo.wHe#kv1CWE"
    secret-key = "jzc*B.IdElaiLSPE5X6G+fxC+ezRJ1^[pvnC5.pp"
Extra arguments are: lmp -v x 64 -v y 16 -v z 16 -in in.reaxc.hns -nocite

ðŸŒ€ flux start -o --config /etc/flux/config -Scron.directory=/etc/flux/system/cron.d   -Stbon.fanout=256   -Srundir=/run/flux   -Sstatedir=/var/lib/flux   -Slocal-uri=local:///run/flux/local   -Slog-stderr-level=6    -Slog-stderr-mode=local flux mini submit  -N 8 -n 752 --quiet -ompi=openmpi@5 -c 1 -o cpu-affinity=per-task --watch -vvv lmp -v x 64 -v y 16 -v z 16 -in in.reaxc.hns -nocite
broker.info[0]: start: none->join 1.22399ms
broker.info[0]: parent-none: join->init 0.0162ms
cron.info[0]: synchronizing cron tasks to event heartbeat.pulse
job-manager.info[0]: restart: 0 jobs
job-manager.info[0]: restart: 0 running jobs
job-manager.info[0]: restart: checkpoint.job-manager not found
broker.info[0]: rc1.0: running /opt/software/linux-ubuntu22.04-x86_64/gcc-11.3.0/flux-core-master-xzpp4nvulribpxlo24lb53g3xtneekdg/etc/flux/rc1.d/02-cron
broker.info[0]: rc1.0: running /opt/view/etc/flux/rc1.d/01-sched-fluxion
sched-fluxion-resource.warning[0]: create_reader: allowlist unsupported
sched-fluxion-resource.info[0]: populate_resource_db: loaded resources from core's resource.acquire
broker.info[0]: rc1.0: running /opt/view/etc/flux/rc1.d/02-cron
broker.info[0]: rc1.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.3.0/flux-core-master-xzpp4nvulribpxlo24lb53g3xtneekdg/etc/flux/rc1 Exited (rc=0) 0.4s
broker.info[0]: rc1-success: init->quorum 0.392172s
broker.info[0]: online: lammps-0 (ranks 0)
broker.info[0]: online: lammps-[0-7] (ranks 0-7)
broker.info[0]: quorum-full: quorum->run 0.316103s
Æ’KTQ4Ty: 0.000s submit
Æ’KTQ4Ty: 0.012s validate
Æ’KTQ4Ty: 0.023s depend
Æ’KTQ4Ty: 0.023s priority
Æ’KTQ4Ty: 0.062s alloc
Æ’KTQ4Ty: 0.078s start
Æ’KTQ4Ty: 0.062s exec.init
Æ’KTQ4Ty: 0.063s exec.starting
Æ’KTQ4Ty: 0.117s exec.shell.init
LAMMPS (29 Sep 2021 - Update 3)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Reading data file ...
  triclinic box = (0.0000000 0.0000000 0.0000000) to (22.326000 11.141200 13.778966) with tilt (0.0000000 -5.0260300 0.0000000)
  47 by 4 by 4 MPI processor grid
  reading atoms ...
  304 atoms
  reading velocities ...
  304 velocities
  read_data CPU = 0.034 seconds
Replicating atoms ...
  triclinic box = (0.0000000 0.0000000 0.0000000) to (1428.8640 178.25920 220.46346) with tilt (0.0000000 -80.416480 0.0000000)
  47 by 4 by 4 MPI processor grid
  bounding box image = (0 -1 -1) to (0 1 1)
  bounding box extra memory = 0.03 MB
  average # of replicas added to proc = 91.79 out of 16384 (0.56%)
  4980736 atoms
  replicate CPU = 0.043 seconds
Neighbor list info ...
  update every 20 steps, delay 0 steps, check no
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 275 33 41
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair reax/c, perpetual
      attributes: half, newton off, ghost
      pair build: half/bin/newtoff/ghost
      stencil: full/ghost/bin/3d
      bin: standard
  (2) fix qeq/reax, perpetual, copy from (1)
      attributes: half, newton off, ghost
      pair build: copy
      stencil: none
      bin: none
Setting up Verlet run ...
  Unit style    : real
  Current step  : 0
  Time step     : 0.1
Per MPI rank memory allocation (min/avg/max) = 405.1 | 408.8 | 413.9 Mbytes
Step Temp PotEng Press E_vdwl E_coul Volume 
       0          300   -113.27833     439.0198   -111.57687   -1.7014647     56153840 
      10    300.78686   -113.28051    827.36848   -111.57907   -1.7014353     56153840 
      20    302.44845   -113.28532    1713.1411   -111.58399   -1.7013238     56153840 
      30    302.57357   -113.28556    4309.4667   -111.58447    -1.701095     56153840 
      40    300.60957   -113.27964    6382.2549   -111.57887   -1.7007685     56153840 
      50    297.41258   -113.27006    6487.7531   -111.56966   -1.7004036     56153840 
      60    294.73455   -113.26203    6223.0422     -111.562   -1.7000353     56153840 
      70    294.66561   -113.26178    6861.6826   -111.56212   -1.6996621     56153840 
      80    297.77718   -113.27104    8253.0125   -111.57175   -1.6992888     56153840 
Æ’KTQ4Ty: 77.169s finish
Æ’KTQ4Ty: complete: status=0
Æ’KTQ4Ty: 77.170s release
Æ’KTQ4Ty: 77.170s free
Æ’KTQ4Ty: 77.170s clean
      90     301.6809   -113.28267     9374.894   -111.58372   -1.6989576     56153840 
     100    302.58672   -113.28532    10369.063    -111.5866   -1.6987204     56153840 
Loop time of 71.3355 on 752 procs for 100 steps with 4980736 atoms

Performance: 0.012 ns/day, 1981.542 hours/ns, 1.402 timesteps/s
99.8% CPU use with 752 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 36.64      | 41.686     | 44.784     |  21.0 | 58.44
Neigh   | 0.72162    | 0.74419    | 0.76576    |   0.8 |  1.04
Comm    | 0.42512    | 3.0812     | 7.7748     |  78.4 |  4.32
Output  | 0.040734   | 0.094452   | 0.19053    |  10.4 |  0.13
Modify  | 25.29      | 25.725     | 26.206     |   5.2 | 36.06
Other   |            | 0.00484    |            |       |  0.01

Nlocal:        6623.32 ave        6835 max        6485 min
Histogram: 78 87 127 113 111 70 75 43 16 32
Nghost:        17774.5 ave       18145 max       17497 min
Histogram: 61 29 112 104 162 161 80 25 2 16
Neighs:    2.08661e+06 ave 2.14592e+06 max 2.04631e+06 min
Histogram: 62 101 119 129 89 84 88 32 16 32

Total # of neighbors = 1.5691275e+09
Ave neighs/atom = 315.03929
Neighbor list builds = 5
Dangerous builds not checked
Total wall time: 0:01:13
FLUXTIME fluxsubmit wall time 1:17.50
broker.info[0]: rc2.0: /usr/bin/time -f FLUXTIME fluxsubmit wall time %E flux mini submit -N 8 -n 752 --quiet -ompi=openmpi@5 -c 1 -o cpu-affinity=per-task --watch -vvv lmp -v x 64 -v y 16 -v z 16 -in in.reaxc.hns -nocite Exited (rc=0) 77.5s
broker.info[0]: rc2-success: run->cleanup 1.29173m
broker.info[0]: cleanup.0: flux queue stop --quiet --all --nocheckpoint Exited (rc=0) 0.1s
broker.info[0]: cleanup.1: flux job cancelall --user=all --quiet -f --states RUN Exited (rc=0) 0.0s
broker.info[0]: cleanup.2: flux queue idle --quiet Exited (rc=0) 0.1s
broker.info[0]: cleanup-success: cleanup->shutdown 0.20322s
broker.info[0]: online: lammps-[0,2-7] (ranks 0,2-7)
broker.info[0]: children-complete: shutdown->finalize 44.8766ms
broker.info[0]: rc3.0: running /opt/view/etc/flux/rc3.d/01-sched-fluxion
broker.info[0]: rc3.0: /opt/software/linux-ubuntu22.04-x86_64/gcc-11.3.0/flux-core-master-xzpp4nvulribpxlo24lb53g3xtneekdg/etc/flux/rc3 Exited (rc=0) 0.1s
broker.info[0]: rc3-success: finalize->goodbye 0.109002s
broker.info[0]: goodbye: goodbye->exit 0.017091ms
FLUXTIME fluxstart wall time 1:18.58
