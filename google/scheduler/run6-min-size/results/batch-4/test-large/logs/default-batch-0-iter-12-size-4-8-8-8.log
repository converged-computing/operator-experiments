
===
Output: recorded-at: 2024-01-14 23:38:25.969282
/flux_operator/wait-0.sh: line 18: curl: command not found
--2024-01-14 23:35:35--  https://github.com/converged-computing/goshare/releases/download/2023-09-06/wait-fs
Resolving github.com (github.com)... 140.82.114.3
Connecting to github.com (github.com)|140.82.114.3|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/670447414/dac45779-6f67-4c45-9a94-1d4ab9dc7331?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20240114%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20240114T233523Z&X-Amz-Expires=300&X-Amz-Signature=037fc5e2515ef31a268c4ca9afd8b0be965de19a70e35e65a932a29313756420&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=670447414&response-content-disposition=attachment%3B%20filename%3Dwait-fs&response-content-type=application%2Foctet-stream [following]
--2024-01-14 23:35:35--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/670447414/dac45779-6f67-4c45-9a94-1d4ab9dc7331?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20240114%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20240114T233523Z&X-Amz-Expires=300&X-Amz-Signature=037fc5e2515ef31a268c4ca9afd8b0be965de19a70e35e65a932a29313756420&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=670447414&response-content-disposition=attachment%3B%20filename%3Dwait-fs&response-content-type=application%2Foctet-stream
Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.111.133, 185.199.109.133, 185.199.110.133, ...
Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.111.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 2116087 (2.0M) [application/octet-stream]
Saving to: 'wait-fs'
wait-fs               0%[                    ]       0  --.-KB/s               wait-fs             100%[===================>]   2.02M  --.-KB/s    in 0.07s   
2024-01-14 23:35:35 (29.1 MB/s) - 'wait-fs' saved [2116087/2116087]
Flux install root: /mnt/flux/view
üüßÔ∏è  wait-fs: 2024/01/14 23:35:35 wait-fs.go:40: /mnt/flux/flux-operator-done.txt
üüßÔ∏è  wait-fs: 2024/01/14 23:35:35 wait-fs.go:49: Found existing path /mnt/flux/flux-operator-done.txt
Python version: /mnt/flux/view/bin/python3.11
Python root: /mnt/flux/view/lib/python3.11
PYTHONPATH is :/mnt/flux/view/lib/python3.11/site-packages
PATH is /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/mnt/flux/view/bin
/mnt/flux/view/lib/libpython3.so
/mnt/flux/view/lib/libpython3.11.so
/mnt/flux/view/lib/libpython3.11.so.1.0
lrwxrwxrwx 1 root root 116 Jan 14 23:35 /mnt/flux/view/lib/libpython3.11.so.1.0 -> /opt/software/linux-rocky9-x86_64/gcc-11.3.1/python-3.11.6-waohbgfsrhmmjjhcillckft35nqo5gyy/lib/libpython3.11.so.1.0
Hello user root
üåüÔ∏è Curve Certificate
curve.cert
#   ****  Generated on 2023-04-26 22:54:42 by CZMQ  ****
#   ZeroMQ CURVE **Secret** Certificate
#   DO NOT PROVIDE THIS FILE TO OTHER USERS nor change its permissions.
    
metadata
    name = "flux-cert-generator"
    keygen.hostname = "lmp-0-12-size-4-8-8-8-0"
curve
    public-key = "Afv+A=//{-:ir(noyGZgmHIV2-VhZ8JUO3K^{s^f"
    secret-key = "<9)YPPPf6EWsCO(Yj8kuz.[Mt}tiytep}j[0)nj)"
üëã Hello, I'm lmp-0-12-size-4-8-8-8-0
The main host is lmp-0-12-size-4-8-8-8-0
The working directory is /opt/lammps/examples/reaxff/HNS, contents include:
README.txt	ffield.reax.hns  log.8Mar18.reaxc.hns.g++.1
data.hns-equil	in.reaxc.hns	 log.8Mar18.reaxc.hns.g++.4
üö©Ô∏è Flux Option Flags defined
Command provided is: lmp -v x 8 -v y 8 -v z 8 -in in.reaxc.hns -nocite
Flags for flux are -N 4 -n8  
üåÄ Submit Mode: flux start -o --config /mnt/flux/view/etc/flux/config -Scron.directory=/etc/flux/system/cron.d   -Stbon.fanout=256   -Srundir=/mnt/flux/view/run/flux    -Sstatedir=/mnt/flux/view/var/lib/flux   -Slocal-uri=local:///mnt/flux/view/run/flux/local  -Sbroker.quorum=2   -Slog-stderr-level=6    -Slog-stderr-mode=local  flux submit  -N 4 -n8   --quiet --watch lmp -v x 8 -v y 8 -v z 8 -in in.reaxc.hns -nocite
Flags for flux are -N 4 -n8  
broker.info[0]: start: none->join 0.26677ms
broker.info[0]: parent-none: join->init 0.01584ms
cron.info[0]: synchronizing cron tasks to event heartbeat.pulse
job-manager.info[0]: restart: 0 jobs
job-manager.info[0]: restart: 0 running jobs
job-manager.info[0]: restart: checkpoint.job-manager not found
broker.info[0]: rc1.0: running /opt/software/linux-rocky9-x86_64/gcc-11.3.1/flux-core-0.55.0-5qgxfqtnteahwhp3fe2pr3n2m5zgmt4z/etc/flux/rc1.d/02-cron
broker.info[0]: rc1.0: /opt/software/linux-rocky9-x86_64/gcc-11.3.1/flux-core-0.55.0-5qgxfqtnteahwhp3fe2pr3n2m5zgmt4z/etc/flux/rc1 Exited (rc=0) 0.6s
broker.info[0]: rc1-success: init->quorum 0.557484s
broker.info[0]: online: lmp-0-12-size-4-8-8-8-0 (ranks 0)
broker.info[0]: online: lmp-0-12-size-4-8-8-8-[0,2] (ranks 0,2)
broker.info[0]: quorum-full: quorum->run 0.256843s
job-manager.err[0]: jobtap: job.new: callback returned error
broker.info[0]: online: lmp-0-12-size-4-8-8-8-[0-2] (ranks 0-2)
broker.info[0]: online: lmp-0-12-size-4-8-8-8-[0-3] (ranks 0-3)
LAMMPS (29 Sep 2021 - Update 2)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Reading data file ...
  triclinic box = (0.0000000 0.0000000 0.0000000) to (22.326000 11.141200 13.778966) with tilt (0.0000000 -5.0260300 0.0000000)
  2 by 2 by 2 MPI processor grid
  reading atoms ...
  304 atoms
  reading velocities ...
  304 velocities
  read_data CPU = 0.003 seconds
Replicating atoms ...
  triclinic box = (0.0000000 0.0000000 0.0000000) to (178.60800 89.129600 110.23173) with tilt (0.0000000 -40.208240 0.0000000)
  2 by 2 by 2 MPI processor grid
  bounding box image = (0 -1 -1) to (0 1 1)
  bounding box extra memory = 0.03 MB
  average # of replicas added to proc = 185.25 out of 512 (36.18%)
  155648 atoms
  replicate CPU = 0.004 seconds
Neighbor list info ...
  update every 20 steps, delay 0 steps, check no
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 40 17 21
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair reax/c, perpetual
      attributes: half, newton off, ghost
      pair build: half/bin/newtoff/ghost
      stencil: full/ghost/bin/3d
      bin: standard
  (2) fix qeq/reax, perpetual, copy from (1)
      attributes: half, newton off, ghost
      pair build: copy
      stencil: none
      bin: none
Setting up Verlet run ...
  Unit style    : real
  Current step  : 0
  Time step     : 0.1
Per MPI rank memory allocation (min/avg/max) = 876.6 | 876.6 | 876.6 Mbytes
Step Temp PotEng Press E_vdwl E_coul Volume 
       0          300   -113.27833    438.99614   -111.57687   -1.7014647    1754807.5 
      10    300.64265   -113.28007    771.21323   -111.57866   -1.7014067    1754807.5 
      20    302.23163   -113.28471      1617.96   -111.58344   -1.7012699    1754807.5 
      30    302.52603   -113.28543    4311.9419   -111.58441    -1.701021    1754807.5 
      40    301.00893   -113.28084    6495.2626   -111.58016   -1.7006792    1754807.5 
      50    298.22387   -113.27248    6671.9417   -111.57217   -1.7003024    1754807.5 
      60    295.54892   -113.26445    6412.5656   -111.56453    -1.699926    1754807.5 
      70    294.96531   -113.26266    7033.6565   -111.56311   -1.6995494    1754807.5 
      80    297.40594   -113.26991    8436.3544   -111.57073   -1.6991764    1754807.5 
      90    301.11973   -113.28098    9412.0571   -111.58214   -1.6988469    1754807.5 
     100    302.41517   -113.28478    10326.716   -111.58616   -1.6986109    1754807.5 
Loop time of 143.15 on 8 procs for 100 steps with 155648 atoms
Performance: 0.006 ns/day, 3976.389 hours/ns, 0.699 timesteps/s
94.1% CPU use with 8 MPI tasks x 1 OpenMP threads
MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 76.677     | 83.627     | 90.44      |  45.0 | 58.42
job-manager.err[0]: jobtap: job.inactive-add: callback returned error
Neigh   | 1.2099     | 1.2189     | 1.2341     |   0.6 |  0.85
Comm    | 0.54597    | 7.3593     | 14.307     | 151.5 |  5.14
Output  | 0.0055089  | 0.0060012  | 0.0064325  |   0.4 |  0.00
Modify  | 50.917     | 50.932     | 50.944     |   0.1 | 35.58
Other   |            | 0.006473   |            |       |  0.00
Nlocal:        19456.0 ave       19466 max       19446 min
Histogram: 1 2 1 0 0 0 1 0 0 3
Nghost:        31575.6 ave       31598 max       31560 min
Histogram: 2 2 0 0 1 0 0 2 0 1
Neighs:    5.74687e+06 ave 5.74976e+06 max 5.74347e+06 min
Histogram: 1 0 3 0 0 0 0 1 0 3
Total # of neighbors = 45974935
Ave neighs/atom = 295.37761
Neighbor list builds = 5
Dangerous builds not checked
Total wall time: 0:02:26
broker.info[0]: rc2.0: flux submit -N 4 -n8 --quiet --watch lmp -v x 8 -v y 8 -v z 8 -in in.reaxc.hns -nocite Exited (rc=0) 166.1s
broker.info[0]: rc2-success: run->cleanup 2.7689m
broker.info[0]: cleanup.0: flux queue stop --quiet --all --nocheckpoint Exited (rc=0) 0.1s
broker.info[0]: cleanup.1: flux cancel --user=all --quiet --states RUN Exited (rc=0) 0.1s
broker.info[0]: cleanup.2: flux queue idle --quiet Exited (rc=0) 0.1s
broker.info[0]: cleanup-success: cleanup->shutdown 0.273853s
broker.info[0]: online: lmp-0-12-size-4-8-8-8-[0-2] (ranks 0-2)
broker.info[0]: online: lmp-0-12-size-4-8-8-8-[0,2] (ranks 0,2)
broker.info[0]: children-complete: shutdown->finalize 48.0111ms
broker.info[0]: rc3.0: /opt/software/linux-rocky9-x86_64/gcc-11.3.1/flux-core-0.55.0-5qgxfqtnteahwhp3fe2pr3n2m5zgmt4z/etc/flux/rc3 Exited (rc=0) 0.1s
broker.info[0]: rc3-success: finalize->goodbye 0.102365s
broker.info[0]: goodbye: goodbye->exit 0.02092ms
===
Succeeded: recorded-at: 2024-01-14 23:38:27.012053
{'api_version': 'v1', 'kind': 'Pod', 'metadata': {'annotations': {'batch.kubernetes.io/job-completion-index': '0', 'cloud.google.com/cluster_autoscaler_unhelpable_since': '2024-01-14T23:32:57+0000', 'cloud.google.com/cluster_autoscaler_unhelpable_until': 'Inf'}, 'creation_timestamp': datetime.datetime(2024, 1, 14, 23, 32, 55, tzinfo=tzutc()), 'deletion_grace_period_seconds': None, 'deletion_timestamp': None, 'finalizers': ['batch.kubernetes.io/job-tracking'], 'generate_name': 'lmp-0-12-size-4-8-8-8-0-', 'generation': None, 'labels': {'app': 'lmp-0-12-size-4-8-8-8', 'app.kubernetes.io/name': 'lmp-0-12-size-4-8-8-8', 'batch.kubernetes.io/controller-uid': 'a1e0c36a-ced9-4e73-917c-94911eef6934', 'batch.kubernetes.io/job-name': 'lmp-0-12-size-4-8-8-8', 'controller-uid': 'a1e0c36a-ced9-4e73-917c-94911eef6934', 'hpa-selector': 'lmp-0-12-size-4-8-8-8', 'job-index': 'lmp', 'job-name': 'lmp-0-12-size-4-8-8-8', 'namespace': 'default'}, 'managed_fields': [{'api_version': 'v1', 'fields_type': 'FieldsV1', 'fields_v1': {'f:metadata': {'f:annotations': {'.': {}, 'f:batch.kubernetes.io/job-completion-index': {}}, 'f:finalizers': {'.': {}, 'v:"batch.kubernetes.io/job-tracking"': {}}, 'f:generateName': {}, 'f:labels': {'.': {}, 'f:app': {}, 'f:app.kubernetes.io/name': {}, 'f:batch.kubernetes.io/controller-uid': {}, 'f:batch.kubernetes.io/job-name': {}, 'f:controller-uid': {}, 'f:hpa-selector': {}, 'f:job-name': {}, 'f:namespace': {}}, 'f:ownerReferences': {'.': {}, 'k:{"uid":"a1e0c36a-ced9-4e73-917c-94911eef6934"}': {}}}, 'f:spec': {'f:affinity': {'.': {}, 'f:podAffinity': {'.': {}, 'f:preferredDuringSchedulingIgnoredDuringExecution': {}}, 'f:podAntiAffinity': {'.': {}, 'f:preferredDuringSchedulingIgnoredDuringExecution': {}}}, 'f:containers': {'k:{"name":"lmp-0-12-size-4-8-8-8"}': {'.': {}, 'f:command': {}, 'f:env': {'.': {}, 'k:{"name":"JOB_COMPLETION_INDEX"}': {'.': {}, 'f:name': {}, 'f:valueFrom': {'.': {}, 'f:fieldRef': {}}}}, 'f:image': {}, 'f:imagePullPolicy': {}, 'f:lifecycle': {}, 'f:name': {}, 'f:resources': {'.': {}, 'f:limits': {'.': {}, 'f:cpu': {}}, 'f:requests': {'.': {}, 'f:cpu': {}}}, 'f:securityContext': {'.': {}, 'f:capabilities': {}, 'f:privileged': {}}, 'f:stdin': {}, 'f:terminationMessagePath': {}, 'f:terminationMessagePolicy': {}, 'f:tty': {}, 'f:volumeMounts': {'.': {}, 'k:{"mountPath":"/flux_operator/"}': {'.': {}, 'f:mountPath': {}, 'f:name': {}, 'f:readOnly': {}}, 'k:{"mountPath":"/mnt/flux"}': {'.': {}, 'f:mountPath': {}, 'f:name': {}}}, 'f:workingDir': {}}}, 'f:dnsPolicy': {}, 'f:enableServiceLinks': {}, 'f:hostname': {}, 'f:initContainers': {'.': {}, 'k:{"name":"flux-view"}': {'.': {}, 'f:command': {}, 'f:env': {'.': {}, 'k:{"name":"JOB_COMPLETION_INDEX"}': {'.': {}, 'f:name': {}, 'f:valueFrom': {'.': {}, 'f:fieldRef': {}}}}, 'f:image': {}, 'f:imagePullPolicy': {}, 'f:name': {}, 'f:resources': {}, 'f:stdin': {}, 'f:terminationMessagePath': {}, 'f:terminationMessagePolicy': {}, 'f:tty': {}, 'f:volumeMounts': {'.': {}, 'k:{"mountPath":"/flux_operator/"}': {'.': {}, 'f:mountPath': {}, 'f:name': {}, 'f:readOnly': {}}, 'k:{"mountPath":"/mnt/flux"}': {'.': {}, 'f:mountPath': {}, 'f:name': {}}}}}, 'f:restartPolicy': {}, 'f:schedulerName': {}, 'f:securityContext': {}, 'f:setHostnameAsFQDN': {}, 'f:shareProcessNamespace': {}, 'f:subdomain': {}, 'f:terminationGracePeriodSeconds': {}, 'f:volumes': {'.': {}, 'k:{"name":"flux-view"}': {'.': {}, 'f:emptyDir': {}, 'f:name': {}}, 'k:{"name":"lmp-0-12-size-4-8-8-8-entrypoint"}': {'.': {}, 'f:configMap': {'.': {}, 'f:defaultMode': {}, 'f:items': {}, 'f:name': {}}, 'f:name': {}}}}}, 'manager': 'kube-controller-manager', 'operation': 'Update', 'subresource': None, 'time': datetime.datetime(2024, 1, 14, 23, 32, 55, tzinfo=tzutc())}, {'api_version': 'v1', 'fields_type': 'FieldsV1', 'fields_v1': {'f:status': {'f:conditions': {'.': {}, 'k:{"type":"PodScheduled"}': {'.': {}, 'f:lastProbeTime': {}, 'f:lastTransitionTime': {}, 'f:message': {}, 'f:reason': {}, 'f:status': {}, 'f:type': {}}}}}, 'manager': 'kube-scheduler', 'operation': 'Update', 'subresource': 'status', 'time': datetime.datetime(2024, 1, 14, 23, 32, 55, tzinfo=tzutc())}, {'api_version': 'v1', 'fields_type': 'FieldsV1', 'fields_v1': {'f:metadata': {'f:labels': {'f:job-index': {}}}}, 'manager': 'manager', 'operation': 'Update', 'subresource': None, 'time': datetime.datetime(2024, 1, 14, 23, 32, 55, tzinfo=tzutc())}, {'api_version': 'v1', 'fields_type': 'FieldsV1', 'fields_v1': {'f:metadata': {'f:annotations': {'f:cloud.google.com/cluster_autoscaler_unhelpable_since': {}, 'f:cloud.google.com/cluster_autoscaler_unhelpable_until': {}}}}, 'manager': 'cluster-autoscaler', 'operation': 'Update', 'subresource': None, 'time': datetime.datetime(2024, 1, 14, 23, 32, 58, tzinfo=tzutc())}, {'api_version': 'v1', 'fields_type': 'FieldsV1', 'fields_v1': {'f:status': {'f:conditions': {'k:{"type":"ContainersReady"}': {'.': {}, 'f:lastProbeTime': {}, 'f:lastTransitionTime': {}, 'f:reason': {}, 'f:status': {}, 'f:type': {}}, 'k:{"type":"Initialized"}': {'.': {}, 'f:lastProbeTime': {}, 'f:lastTransitionTime': {}, 'f:reason': {}, 'f:status': {}, 'f:type': {}}, 'k:{"type":"Ready"}': {'.': {}, 'f:lastProbeTime': {}, 'f:lastTransitionTime': {}, 'f:reason': {}, 'f:status': {}, 'f:type': {}}}, 'f:containerStatuses': {}, 'f:hostIP': {}, 'f:initContainerStatuses': {}, 'f:phase': {}, 'f:startTime': {}}}, 'manager': 'kubelet', 'operation': 'Update', 'subresource': 'status', 'time': datetime.datetime(2024, 1, 14, 23, 38, 26, tzinfo=tzutc())}], 'name': 'lmp-0-12-size-4-8-8-8-0-p48h9', 'namespace': 'default', 'owner_references': [{'api_version': 'batch/v1', 'block_owner_deletion': True, 'controller': True, 'kind': 'Job', 'name': 'lmp-0-12-size-4-8-8-8', 'uid': 'a1e0c36a-ced9-4e73-917c-94911eef6934'}], 'resource_version': '307034', 'self_link': None, 'uid': '5fe38f7a-86fa-4f10-a677-8ea051ef07b9'}, 'spec': {'active_deadline_seconds': None, 'affinity': {'node_affinity': None, 'pod_affinity': {'preferred_during_scheduling_ignored_during_execution': [{'pod_affinity_term': {'label_selector': {'match_expressions': [{'key': 'app.kubernetes.io/name', 'operator': 'In', 'values': ['lmp-0-12-size-4-8-8-8']}], 'match_labels': None}, 'namespace_selector': None, 'namespaces': None, 'topology_key': 'topology.kubernetes.io/zone'}, 'weight': 100}], 'required_during_scheduling_ignored_during_execution': None}, 'pod_anti_affinity': {'preferred_during_scheduling_ignored_during_execution': [{'pod_affinity_term': {'label_selector': {'match_expressions': [{'key': 'app.kubernetes.io/name', 'operator': 'In', 'values': ['lmp-0-12-size-4-8-8-8']}], 'match_labels': None}, 'namespace_selector': None, 'namespaces': None, 'topology_key': 'kubernetes.io/hostname'}, 'weight': 100}], 'required_during_scheduling_ignored_during_execution': None}}, 'automount_service_account_token': None, 'containers': [{'args': None, 'command': ['/bin/bash', '/flux_operator/wait-0.sh'], 'env': [{'name': 'JOB_COMPLETION_INDEX', 'value': None, 'value_from': {'config_map_key_ref': None, 'field_ref': {'api_version': 'v1', 'field_path': "metadata.annotations['batch.kubernetes.io/job-completion-index']"}, 'resource_field_ref': None, 'secret_key_ref': None}}], 'env_from': None, 'image': 'ghcr.io/converged-computing/metric-lammps:latest@sha256:e24a1ba8954f5a0a7a0bd854cfc5ca7f82ca12607dc6ace38d838591b8deb8ed', 'image_pull_policy': 'IfNotPresent', 'lifecycle': {'post_start': None, 'pre_stop': None}, 'liveness_probe': None, 'name': 'lmp-0-12-size-4-8-8-8', 'ports': None, 'readiness_probe': None, 'resize_policy': None, 'resources': {'claims': None, 'limits': {'cpu': '2'}, 'requests': {'cpu': '2'}}, 'restart_policy': None, 'security_context': {'allow_privilege_escalation': None, 'capabilities': {'add': None, 'drop': None}, 'privileged': False, 'proc_mount': None, 'read_only_root_filesystem': None, 'run_as_group': None, 'run_as_non_root': None, 'run_as_user': None, 'se_linux_options': None, 'seccomp_profile': None, 'windows_options': None}, 'startup_probe': None, 'stdin': True, 'stdin_once': None, 'termination_message_path': '/dev/termination-log', 'termination_message_policy': 'File', 'tty': True, 'volume_devices': None, 'volume_mounts': [{'mount_path': '/mnt/flux', 'mount_propagation': None, 'name': 'flux-view', 'read_only': None, 'sub_path': None, 'sub_path_expr': None}, {'mount_path': '/flux_operator/', 'mount_propagation': None, 'name': 'lmp-0-12-size-4-8-8-8-entrypoint', 'read_only': True, 'sub_path': None, 'sub_path_expr': None}, {'mount_path': '/var/run/secrets/kubernetes.io/serviceaccount', 'mount_propagation': None, 'name': 'kube-api-access-d4ndc', 'read_only': True, 'sub_path': None, 'sub_path_expr': None}], 'working_dir': '/opt/lammps/examples/reaxff/HNS'}], 'dns_config': None, 'dns_policy': 'ClusterFirst', 'enable_service_links': True, 'ephemeral_containers': None, 'host_aliases': None, 'host_ipc': None, 'host_network': None, 'host_pid': None, 'host_users': None, 'hostname': 'lmp-0-12-size-4-8-8-8-0', 'image_pull_secrets': None, 'init_containers': [{'args': None, 'command': ['/bin/bash', '/flux_operator/flux-init.sh'], 'env': [{'name': 'JOB_COMPLETION_INDEX', 'value': None, 'value_from': {'config_map_key_ref': None, 'field_ref': {'api_version': 'v1', 'field_path': "metadata.annotations['batch.kubernetes.io/job-completion-index']"}, 'resource_field_ref': None, 'secret_key_ref': None}}], 'env_from': None, 'image': 'ghcr.io/converged-computing/flux-view-rocky:tag-9', 'image_pull_policy': 'IfNotPresent', 'lifecycle': None, 'liveness_probe': None, 'name': 'flux-view', 'ports': None, 'readiness_probe': None, 'resize_policy': None, 'resources': {'claims': None, 'limits': None, 'requests': None}, 'restart_policy': None, 'security_context': None, 'startup_probe': None, 'stdin': True, 'stdin_once': None, 'termination_message_path': '/dev/termination-log', 'termination_message_policy': 'File', 'tty': True, 'volume_devices': None, 'volume_mounts': [{'mount_path': '/mnt/flux', 'mount_propagation': None, 'name': 'flux-view', 'read_only': None, 'sub_path': None, 'sub_path_expr': None}, {'mount_path': '/flux_operator/', 'mount_propagation': None, 'name': 'lmp-0-12-size-4-8-8-8-entrypoint', 'read_only': True, 'sub_path': None, 'sub_path_expr': None}, {'mount_path': '/var/run/secrets/kubernetes.io/serviceaccount', 'mount_propagation': None, 'name': 'kube-api-access-d4ndc', 'read_only': True, 'sub_path': None, 'sub_path_expr': None}], 'working_dir': None}], 'node_name': 'gke-test-cluster-default-pool-0ac1ba33-z0fq', 'node_selector': None, 'os': None, 'overhead': None, 'preemption_policy': 'PreemptLowerPriority', 'priority': 0, 'priority_class_name': None, 'readiness_gates': None, 'resource_claims': None, 'restart_policy': 'OnFailure', 'runtime_class_name': None, 'scheduler_name': 'default-scheduler', 'scheduling_gates': None, 'security_context': {'fs_group': None, 'fs_group_change_policy': None, 'run_as_group': None, 'run_as_non_root': None, 'run_as_user': None, 'se_linux_options': None, 'seccomp_profile': None, 'supplemental_groups': None, 'sysctls': None, 'windows_options': None}, 'service_account': 'default', 'service_account_name': 'default', 'set_hostname_as_fqdn': False, 'share_process_namespace': False, 'subdomain': 'fs12048-8-8', 'termination_grace_period_seconds': 30, 'tolerations': [{'effect': 'NoExecute', 'key': 'node.kubernetes.io/not-ready', 'operator': 'Exists', 'toleration_seconds': 300, 'value': None}, {'effect': 'NoExecute', 'key': 'node.kubernetes.io/unreachable', 'operator': 'Exists', 'toleration_seconds': 300, 'value': None}], 'topology_spread_constraints': None, 'volumes': [{'aws_elastic_block_store': None, 'azure_disk': None, 'azure_file': None, 'cephfs': None, 'cinder': None, 'config_map': None, 'csi': None, 'downward_api': None, 'empty_dir': {'medium': None, 'size_limit': None}, 'ephemeral': None, 'fc': None, 'flex_volume': None, 'flocker': None, 'gce_persistent_disk': None, 'git_repo': None, 'glusterfs': None, 'host_path': None, 'iscsi': None, 'name': 'flux-view', 'nfs': None, 'persistent_volume_claim': None, 'photon_persistent_disk': None, 'portworx_volume': None, 'projected': None, 'quobyte': None, 'rbd': None, 'scale_io': None, 'secret': None, 'storageos': None, 'vsphere_volume': None}, {'aws_elastic_block_store': None, 'azure_disk': None, 'azure_file': None, 'cephfs': None, 'cinder': None, 'config_map': {'default_mode': 420, 'items': [{'key': 'wait-0', 'mode': 511, 'path': 'wait-0.sh'}, {'key': 'flux-view', 'mode': 511, 'path': 'flux-init.sh'}, {'key': 'curve.cert', 'mode': None, 'path': 'curve.cert'}], 'name': 'lmp-0-12-size-4-8-8-8-entrypoint', 'optional': None}, 'csi': None, 'downward_api': None, 'empty_dir': None, 'ephemeral': None, 'fc': None, 'flex_volume': None, 'flocker': None, 'gce_persistent_disk': None, 'git_repo': None, 'glusterfs': None, 'host_path': None, 'iscsi': None, 'name': 'lmp-0-12-size-4-8-8-8-entrypoint', 'nfs': None, 'persistent_volume_claim': None, 'photon_persistent_disk': None, 'portworx_volume': None, 'projected': None, 'quobyte': None, 'rbd': None, 'scale_io': None, 'secret': None, 'storageos': None, 'vsphere_volume': None}, {'aws_elastic_block_store': None, 'azure_disk': None, 'azure_file': None, 'cephfs': None, 'cinder': None, 'config_map': None, 'csi': None, 'downward_api': None, 'empty_dir': None, 'ephemeral': None, 'fc': None, 'flex_volume': None, 'flocker': None, 'gce_persistent_disk': None, 'git_repo': None, 'glusterfs': None, 'host_path': None, 'iscsi': None, 'name': 'kube-api-access-d4ndc', 'nfs': None, 'persistent_volume_claim': None, 'photon_persistent_disk': None, 'portworx_volume': None, 'projected': {'default_mode': 420, 'sources': [{'config_map': None, 'downward_api': None, 'secret': None, 'service_account_token': {'audience': None, 'expiration_seconds': 3607, 'path': 'token'}}, {'config_map': {'items': [{'key': 'ca.crt', 'mode': None, 'path': 'ca.crt'}], 'name': 'kube-root-ca.crt', 'optional': None}, 'downward_api': None, 'secret': None, 'service_account_token': None}, {'config_map': None, 'downward_api': {'items': [{'field_ref': {'api_version': 'v1', 'field_path': 'metadata.namespace'}, 'mode': None, 'path': 'namespace', 'resource_field_ref': None}]}, 'secret': None, 'service_account_token': None}]}, 'quobyte': None, 'rbd': None, 'scale_io': None, 'secret': None, 'storageos': None, 'vsphere_volume': None}]}, 'status': {'conditions': [{'last_probe_time': None, 'last_transition_time': datetime.datetime(2024, 1, 14, 23, 35, 35, tzinfo=tzutc()), 'message': None, 'reason': 'PodCompleted', 'status': 'True', 'type': 'Initialized'}, {'last_probe_time': None, 'last_transition_time': datetime.datetime(2024, 1, 14, 23, 38, 25, tzinfo=tzutc()), 'message': None, 'reason': 'PodCompleted', 'status': 'False', 'type': 'Ready'}, {'last_probe_time': None, 'last_transition_time': datetime.datetime(2024, 1, 14, 23, 38, 25, tzinfo=tzutc()), 'message': None, 'reason': 'PodCompleted', 'status': 'False', 'type': 'ContainersReady'}, {'last_probe_time': None, 'last_transition_time': datetime.datetime(2024, 1, 14, 23, 35, 15, tzinfo=tzutc()), 'message': None, 'reason': None, 'status': 'True', 'type': 'PodScheduled'}], 'container_statuses': [{'allocated_resources': None, 'container_id': 'containerd://e91693f555df805e6d97500e5e9761aef74ac231ea1b848dc20eebc9a4bdd6c5', 'image': 'sha256:a92aab4c08132af0f099265175f1eafd58ca0b771468051336504fdb90506ad5', 'image_id': 'ghcr.io/converged-computing/metric-lammps@sha256:e24a1ba8954f5a0a7a0bd854cfc5ca7f82ca12607dc6ace38d838591b8deb8ed', 'last_state': {'running': None, 'terminated': None, 'waiting': None}, 'name': 'lmp-0-12-size-4-8-8-8', 'ready': False, 'resources': None, 'restart_count': 0, 'started': False, 'state': {'running': None, 'terminated': {'container_id': 'containerd://e91693f555df805e6d97500e5e9761aef74ac231ea1b848dc20eebc9a4bdd6c5', 'exit_code': 0, 'finished_at': datetime.datetime(2024, 1, 14, 23, 38, 24, tzinfo=tzutc()), 'message': None, 'reason': 'Completed', 'signal': None, 'started_at': datetime.datetime(2024, 1, 14, 23, 35, 35, tzinfo=tzutc())}, 'waiting': None}}], 'ephemeral_container_statuses': None, 'host_ip': '10.128.15.243', 'host_i_ps': None, 'init_container_statuses': [{'allocated_resources': None, 'container_id': 'containerd://93ff6783c981d4638fc05fa487f398b9496c030e7673695f6c80061748c35abd', 'image': 'ghcr.io/converged-computing/flux-view-rocky:tag-9', 'image_id': 'ghcr.io/converged-computing/flux-view-rocky@sha256:23ac00ca76c7d2fd4a530cc4390195b2af72a3b8fbdc6257c181fa03d3edfe67', 'last_state': {'running': None, 'terminated': None, 'waiting': None}, 'name': 'flux-view', 'ready': True, 'resources': None, 'restart_count': 0, 'started': None, 'state': {'running': None, 'terminated': {'container_id': 'containerd://93ff6783c981d4638fc05fa487f398b9496c030e7673695f6c80061748c35abd', 'exit_code': 0, 'finished_at': datetime.datetime(2024, 1, 14, 23, 35, 30, tzinfo=tzutc()), 'message': None, 'reason': 'Completed', 'signal': None, 'started_at': datetime.datetime(2024, 1, 14, 23, 35, 15, tzinfo=tzutc())}, 'waiting': None}}], 'message': None, 'nominated_node_name': None, 'phase': 'Succeeded', 'pod_ip': None, 'pod_i_ps': None, 'qos_class': 'Burstable', 'reason': None, 'resize': None, 'resource_claim_statuses': None, 'start_time': datetime.datetime(2024, 1, 14, 23, 35, 15, tzinfo=tzutc())}}
===
Mapping: recorded-at: 2024-01-14 23:38:27.012613
Mapping for job default-batch-0-iter-12-size-4-8-8-8 for scheduler default
lmp-0-12-size-4-8-8-8-0-p48h9 --> gke-test-cluster-default-pool-0ac1ba33-z0fq
lmp-0-12-size-4-8-8-8-1-kwdcc --> gke-test-cluster-default-pool-0ac1ba33-511b
lmp-0-12-size-4-8-8-8-2-bcn9l --> gke-test-cluster-default-pool-0ac1ba33-v6qf
lmp-0-12-size-4-8-8-8-3-cg9gk --> gke-test-cluster-default-pool-0ac1ba33-86cj
gke-test-cluster-default-pool-0ac1ba33-z0fq ran 1 pods in zone us-central1-a
gke-test-cluster-default-pool-0ac1ba33-511b ran 1 pods in zone us-central1-a
gke-test-cluster-default-pool-0ac1ba33-v6qf ran 1 pods in zone us-central1-a
gke-test-cluster-default-pool-0ac1ba33-86cj ran 1 pods in zone us-central1-a

===
Config: recorded-at: 2024-01-14 23:38:27.012759
Run configuration for job default-batch-0-iter-12-size-4-8-8-8:
===
{
    "params": {
        "x": 8,
        "y": 8,
        "z": 8,
        "cpu_limit": 2,
        "tasks": 8,
        "size": 4,
        "min_size": 2,
        "name": "lmp-0-12-size-4-8-8-8",
        "service_name": "fs12048-8-8"
    },
    "iter": 12,
    "start_time": "2024-01-14 23:32:47.916514"
}
====

===
Times: recorded-at: 2024-01-14 23:38:27.051414
{"end_time": "2024-01-14 23:38:25.969153", "start_time": "2024-01-14 23:32:47.916514", "total_time": 338.052639, "uid": "default-batch-0-iter-12-size-4-8-8-8"}
===
Output: recorded-at: 2024-01-14 23:44:41.068939
/flux_operator/wait-0.sh: line 18: curl: command not found
--2024-01-14 23:42:09--  https://github.com/converged-computing/goshare/releases/download/2023-09-06/wait-fs
Resolving github.com (github.com)... 140.82.113.4
Connecting to github.com (github.com)|140.82.113.4|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/670447414/dac45779-6f67-4c45-9a94-1d4ab9dc7331?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20240114%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20240114T234201Z&X-Amz-Expires=300&X-Amz-Signature=5e40304b3ab2235da57e56f3e1ba1d169d22ad83b9c6ae80e888d476d3caf59a&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=670447414&response-content-disposition=attachment%3B%20filename%3Dwait-fs&response-content-type=application%2Foctet-stream [following]
--2024-01-14 23:42:09--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/670447414/dac45779-6f67-4c45-9a94-1d4ab9dc7331?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20240114%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20240114T234201Z&X-Amz-Expires=300&X-Amz-Signature=5e40304b3ab2235da57e56f3e1ba1d169d22ad83b9c6ae80e888d476d3caf59a&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=670447414&response-content-disposition=attachment%3B%20filename%3Dwait-fs&response-content-type=application%2Foctet-stream
Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.109.133, 185.199.108.133, 185.199.110.133, ...
Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.109.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 2116087 (2.0M) [application/octet-stream]
Saving to: 'wait-fs'
wait-fs               0%[                    ]       0  --.-KB/s               wait-fs             100%[===================>]   2.02M  --.-KB/s    in 0.07s   
2024-01-14 23:42:09 (29.3 MB/s) - 'wait-fs' saved [2116087/2116087]
Flux install root: /mnt/flux/view
üüßÔ∏è  wait-fs: 2024/01/14 23:42:09 wait-fs.go:40: /mnt/flux/flux-operator-done.txt
üüßÔ∏è  wait-fs: 2024/01/14 23:42:09 wait-fs.go:49: Found existing path /mnt/flux/flux-operator-done.txt
Python version: /mnt/flux/view/bin/python3.11
Python root: /mnt/flux/view/lib/python3.11
PYTHONPATH is :/mnt/flux/view/lib/python3.11/site-packages
PATH is /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/mnt/flux/view/bin
/mnt/flux/view/lib/libpython3.so
/mnt/flux/view/lib/libpython3.11.so
/mnt/flux/view/lib/libpython3.11.so.1.0
lrwxrwxrwx 1 root root 116 Jan 14 23:42 /mnt/flux/view/lib/libpython3.11.so.1.0 -> /opt/software/linux-rocky9-x86_64/gcc-11.3.1/python-3.11.6-waohbgfsrhmmjjhcillckft35nqo5gyy/lib/libpython3.11.so.1.0
Hello user root
üåüÔ∏è Curve Certificate
curve.cert
#   ****  Generated on 2023-04-26 22:54:42 by CZMQ  ****
#   ZeroMQ CURVE **Secret** Certificate
#   DO NOT PROVIDE THIS FILE TO OTHER USERS nor change its permissions.
    
metadata
    name = "flux-cert-generator"
    keygen.hostname = "lmp-0-12-size-4-8-8-8-0"
curve
    public-key = "M)]a^Mo@NGraLleF33Kru2pcx4yq>@E0s7?=5<IN"
    secret-key = "NjTT#h+]Z&>+F5yzNYT!Ss7D1DxolCsUq:D]i9@K"
üëã Hello, I'm lmp-0-12-size-4-8-8-8-0
The main host is lmp-0-12-size-4-8-8-8-0
The working directory is /opt/lammps/examples/reaxff/HNS, contents include:
README.txt	ffield.reax.hns  log.8Mar18.reaxc.hns.g++.1
data.hns-equil	in.reaxc.hns	 log.8Mar18.reaxc.hns.g++.4
üö©Ô∏è Flux Option Flags defined
Command provided is: lmp -v x 8 -v y 8 -v z 8 -in in.reaxc.hns -nocite
Flags for flux are -N 4 -n8  
üåÄ Submit Mode: flux start -o --config /mnt/flux/view/etc/flux/config -Scron.directory=/etc/flux/system/cron.d   -Stbon.fanout=256   -Srundir=/mnt/flux/view/run/flux    -Sstatedir=/mnt/flux/view/var/lib/flux   -Slocal-uri=local:///mnt/flux/view/run/flux/local  -Sbroker.quorum=2   -Slog-stderr-level=6    -Slog-stderr-mode=local  flux submit  -N 4 -n8   --quiet --watch lmp -v x 8 -v y 8 -v z 8 -in in.reaxc.hns -nocite
Flags for flux are -N 4 -n8  
broker.info[0]: start: none->join 0.41143ms
broker.info[0]: parent-none: join->init 0.01637ms
cron.info[0]: synchronizing cron tasks to event heartbeat.pulse
job-manager.info[0]: restart: 0 jobs
job-manager.info[0]: restart: 0 running jobs
job-manager.info[0]: restart: checkpoint.job-manager not found
broker.info[0]: rc1.0: running /opt/software/linux-rocky9-x86_64/gcc-11.3.1/flux-core-0.55.0-5qgxfqtnteahwhp3fe2pr3n2m5zgmt4z/etc/flux/rc1.d/02-cron
broker.info[0]: rc1.0: /opt/software/linux-rocky9-x86_64/gcc-11.3.1/flux-core-0.55.0-5qgxfqtnteahwhp3fe2pr3n2m5zgmt4z/etc/flux/rc1 Exited (rc=0) 0.6s
broker.info[0]: rc1-success: init->quorum 0.551724s
broker.info[0]: online: lmp-0-12-size-4-8-8-8-0 (ranks 0)
broker.info[0]: online: lmp-0-12-size-4-8-8-8-[0-1] (ranks 0-1)
broker.info[0]: quorum-full: quorum->run 0.257006s
broker.info[0]: online: lmp-0-12-size-4-8-8-8-[0-2] (ranks 0-2)
job-manager.err[0]: jobtap: job.new: callback returned error
broker.info[0]: online: lmp-0-12-size-4-8-8-8-[0-3] (ranks 0-3)
LAMMPS (29 Sep 2021 - Update 2)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
Reading data file ...
  triclinic box = (0.0000000 0.0000000 0.0000000) to (22.326000 11.141200 13.778966) with tilt (0.0000000 -5.0260300 0.0000000)
  2 by 2 by 2 MPI processor grid
  reading atoms ...
  304 atoms
  reading velocities ...
  304 velocities
  read_data CPU = 0.003 seconds
Replicating atoms ...
  triclinic box = (0.0000000 0.0000000 0.0000000) to (178.60800 89.129600 110.23173) with tilt (0.0000000 -40.208240 0.0000000)
  2 by 2 by 2 MPI processor grid
  bounding box image = (0 -1 -1) to (0 1 1)
  bounding box extra memory = 0.03 MB
  average # of replicas added to proc = 185.25 out of 512 (36.18%)
  155648 atoms
  replicate CPU = 0.005 seconds
Neighbor list info ...
  update every 20 steps, delay 0 steps, check no
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 11
  ghost atom cutoff = 11
  binsize = 5.5, bins = 40 17 21
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair reax/c, perpetual
      attributes: half, newton off, ghost
      pair build: half/bin/newtoff/ghost
      stencil: full/ghost/bin/3d
      bin: standard
  (2) fix qeq/reax, perpetual, copy from (1)
      attributes: half, newton off, ghost
      pair build: copy
      stencil: none
      bin: none
Setting up Verlet run ...
  Unit style    : real
  Current step  : 0
  Time step     : 0.1
Per MPI rank memory allocation (min/avg/max) = 876.6 | 876.6 | 876.6 Mbytes
Step Temp PotEng Press E_vdwl E_coul Volume 
       0          300   -113.27833    438.99614   -111.57687   -1.7014647    1754807.5 
      10    300.64265   -113.28007    771.21323   -111.57866   -1.7014067    1754807.5 
      20    302.23163   -113.28471      1617.96   -111.58344   -1.7012699    1754807.5 
      30    302.52603   -113.28543    4311.9419   -111.58441    -1.701021    1754807.5 
      40    301.00893   -113.28084    6495.2626   -111.58016   -1.7006792    1754807.5 
      50    298.22387   -113.27248    6671.9417   -111.57217   -1.7003024    1754807.5 
      60    295.54892   -113.26445    6412.5656   -111.56453    -1.699926    1754807.5 
      70    294.96531   -113.26266    7033.6565   -111.56311   -1.6995494    1754807.5 
      80    297.40594   -113.26991    8436.3544   -111.57073   -1.6991764    1754807.5 
      90    301.11973   -113.28098    9412.0571   -111.58214   -1.6988469    1754807.5 
     100    302.41517   -113.28478    10326.716   -111.58616   -1.6986109    1754807.5 
Loop time of 143.753 on 8 procs for 100 steps with 155648 atoms
job-manager.err[0]: jobtap: job.inactive-add: callback returned error
Performance: 0.006 ns/day, 3993.132 hours/ns, 0.696 timesteps/s
94.3% CPU use with 8 MPI tasks x 1 OpenMP threads
MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 76.872     | 83.92      | 91.228     |  47.2 | 58.38
Neigh   | 1.2145     | 1.2231     | 1.2334     |   0.6 |  0.85
Comm    | 0.21201    | 7.5193     | 14.565     | 157.8 |  5.23
Output  | 0.005516   | 0.0059179  | 0.0071876  |   0.7 |  0.00
Modify  | 51.068     | 51.078     | 51.087     |   0.1 | 35.53
Other   |            | 0.006662   |            |       |  0.00
Nlocal:        19456.0 ave       19466 max       19446 min
Histogram: 1 2 1 0 0 0 1 0 0 3
Nghost:        31575.6 ave       31598 max       31560 min
Histogram: 2 2 0 0 1 0 0 2 0 1
Neighs:    5.74687e+06 ave 5.74976e+06 max 5.74347e+06 min
Histogram: 1 0 3 0 0 0 0 1 0 3
Total # of neighbors = 45974935
Ave neighs/atom = 295.37761
Neighbor list builds = 5
Dangerous builds not checked
Total wall time: 0:02:26
broker.info[0]: rc2.0: flux submit -N 4 -n8 --quiet --watch lmp -v x 8 -v y 8 -v z 8 -in in.reaxc.hns -nocite Exited (rc=0) 147.6s
broker.info[0]: rc2-success: run->cleanup 2.45941m
broker.info[0]: cleanup.0: flux queue stop --quiet --all --nocheckpoint Exited (rc=0) 0.1s
broker.info[0]: cleanup.1: flux cancel --user=all --quiet --states RUN Exited (rc=0) 0.1s
broker.info[0]: cleanup.2: flux queue idle --quiet Exited (rc=0) 0.1s
broker.info[0]: cleanup-success: cleanup->shutdown 0.273388s
broker.info[0]: online: lmp-0-12-size-4-8-8-8-[0-2] (ranks 0-2)
broker.info[0]: online: lmp-0-12-size-4-8-8-8-[0,2] (ranks 0,2)
broker.info[0]: children-complete: shutdown->finalize 48.8873ms
broker.info[0]: rc3.0: /opt/software/linux-rocky9-x86_64/gcc-11.3.1/flux-core-0.55.0-5qgxfqtnteahwhp3fe2pr3n2m5zgmt4z/etc/flux/rc3 Exited (rc=0) 0.1s
broker.info[0]: rc3-success: finalize->goodbye 97.7798ms
broker.info[0]: goodbye: goodbye->exit 0.01995ms
===
Succeeded: recorded-at: 2024-01-14 23:44:41.642754
{'api_version': 'v1', 'kind': 'Pod', 'metadata': {'annotations': {'batch.kubernetes.io/job-completion-index': '0'}, 'creation_timestamp': datetime.datetime(2024, 1, 14, 23, 41, 50, tzinfo=tzutc()), 'deletion_grace_period_seconds': None, 'deletion_timestamp': None, 'finalizers': ['batch.kubernetes.io/job-tracking'], 'generate_name': 'lmp-0-12-size-4-8-8-8-0-', 'generation': None, 'labels': {'app': 'lmp-0-12-size-4-8-8-8', 'app.kubernetes.io/name': 'lmp-0-12-size-4-8-8-8', 'batch.kubernetes.io/controller-uid': 'ca692594-0d30-4c10-b1af-37303ee8aa94', 'batch.kubernetes.io/job-name': 'lmp-0-12-size-4-8-8-8', 'controller-uid': 'ca692594-0d30-4c10-b1af-37303ee8aa94', 'hpa-selector': 'lmp-0-12-size-4-8-8-8', 'job-index': 'lmp', 'job-name': 'lmp-0-12-size-4-8-8-8', 'namespace': 'default'}, 'managed_fields': [{'api_version': 'v1', 'fields_type': 'FieldsV1', 'fields_v1': {'f:metadata': {'f:annotations': {'.': {}, 'f:batch.kubernetes.io/job-completion-index': {}}, 'f:finalizers': {'.': {}, 'v:"batch.kubernetes.io/job-tracking"': {}}, 'f:generateName': {}, 'f:labels': {'.': {}, 'f:app': {}, 'f:app.kubernetes.io/name': {}, 'f:batch.kubernetes.io/controller-uid': {}, 'f:batch.kubernetes.io/job-name': {}, 'f:controller-uid': {}, 'f:hpa-selector': {}, 'f:job-name': {}, 'f:namespace': {}}, 'f:ownerReferences': {'.': {}, 'k:{"uid":"ca692594-0d30-4c10-b1af-37303ee8aa94"}': {}}}, 'f:spec': {'f:affinity': {'.': {}, 'f:podAffinity': {'.': {}, 'f:preferredDuringSchedulingIgnoredDuringExecution': {}}, 'f:podAntiAffinity': {'.': {}, 'f:preferredDuringSchedulingIgnoredDuringExecution': {}}}, 'f:containers': {'k:{"name":"lmp-0-12-size-4-8-8-8"}': {'.': {}, 'f:command': {}, 'f:env': {'.': {}, 'k:{"name":"JOB_COMPLETION_INDEX"}': {'.': {}, 'f:name': {}, 'f:valueFrom': {'.': {}, 'f:fieldRef': {}}}}, 'f:image': {}, 'f:imagePullPolicy': {}, 'f:lifecycle': {}, 'f:name': {}, 'f:resources': {'.': {}, 'f:limits': {'.': {}, 'f:cpu': {}}, 'f:requests': {'.': {}, 'f:cpu': {}}}, 'f:securityContext': {'.': {}, 'f:capabilities': {}, 'f:privileged': {}}, 'f:stdin': {}, 'f:terminationMessagePath': {}, 'f:terminationMessagePolicy': {}, 'f:tty': {}, 'f:volumeMounts': {'.': {}, 'k:{"mountPath":"/flux_operator/"}': {'.': {}, 'f:mountPath': {}, 'f:name': {}, 'f:readOnly': {}}, 'k:{"mountPath":"/mnt/flux"}': {'.': {}, 'f:mountPath': {}, 'f:name': {}}}, 'f:workingDir': {}}}, 'f:dnsPolicy': {}, 'f:enableServiceLinks': {}, 'f:hostname': {}, 'f:initContainers': {'.': {}, 'k:{"name":"flux-view"}': {'.': {}, 'f:command': {}, 'f:env': {'.': {}, 'k:{"name":"JOB_COMPLETION_INDEX"}': {'.': {}, 'f:name': {}, 'f:valueFrom': {'.': {}, 'f:fieldRef': {}}}}, 'f:image': {}, 'f:imagePullPolicy': {}, 'f:name': {}, 'f:resources': {}, 'f:stdin': {}, 'f:terminationMessagePath': {}, 'f:terminationMessagePolicy': {}, 'f:tty': {}, 'f:volumeMounts': {'.': {}, 'k:{"mountPath":"/flux_operator/"}': {'.': {}, 'f:mountPath': {}, 'f:name': {}, 'f:readOnly': {}}, 'k:{"mountPath":"/mnt/flux"}': {'.': {}, 'f:mountPath': {}, 'f:name': {}}}}}, 'f:restartPolicy': {}, 'f:schedulerName': {}, 'f:securityContext': {}, 'f:setHostnameAsFQDN': {}, 'f:shareProcessNamespace': {}, 'f:subdomain': {}, 'f:terminationGracePeriodSeconds': {}, 'f:volumes': {'.': {}, 'k:{"name":"flux-view"}': {'.': {}, 'f:emptyDir': {}, 'f:name': {}}, 'k:{"name":"lmp-0-12-size-4-8-8-8-entrypoint"}': {'.': {}, 'f:configMap': {'.': {}, 'f:defaultMode': {}, 'f:items': {}, 'f:name': {}}, 'f:name': {}}}}}, 'manager': 'kube-controller-manager', 'operation': 'Update', 'subresource': None, 'time': datetime.datetime(2024, 1, 14, 23, 41, 50, tzinfo=tzutc())}, {'api_version': 'v1', 'fields_type': 'FieldsV1', 'fields_v1': {'f:metadata': {'f:labels': {'f:job-index': {}}}}, 'manager': 'manager', 'operation': 'Update', 'subresource': None, 'time': datetime.datetime(2024, 1, 14, 23, 41, 50, tzinfo=tzutc())}, {'api_version': 'v1', 'fields_type': 'FieldsV1', 'fields_v1': {'f:status': {'f:conditions': {'k:{"type":"ContainersReady"}': {'.': {}, 'f:lastProbeTime': {}, 'f:lastTransitionTime': {}, 'f:reason': {}, 'f:status': {}, 'f:type': {}}, 'k:{"type":"Initialized"}': {'.': {}, 'f:lastProbeTime': {}, 'f:lastTransitionTime': {}, 'f:reason': {}, 'f:status': {}, 'f:type': {}}, 'k:{"type":"Ready"}': {'.': {}, 'f:lastProbeTime': {}, 'f:lastTransitionTime': {}, 'f:reason': {}, 'f:status': {}, 'f:type': {}}}, 'f:containerStatuses': {}, 'f:hostIP': {}, 'f:initContainerStatuses': {}, 'f:phase': {}, 'f:startTime': {}}}, 'manager': 'kubelet', 'operation': 'Update', 'subresource': 'status', 'time': datetime.datetime(2024, 1, 14, 23, 44, 41, tzinfo=tzutc())}], 'name': 'lmp-0-12-size-4-8-8-8-0-8ndt9', 'namespace': 'default', 'owner_references': [{'api_version': 'batch/v1', 'block_owner_deletion': True, 'controller': True, 'kind': 'Job', 'name': 'lmp-0-12-size-4-8-8-8', 'uid': 'ca692594-0d30-4c10-b1af-37303ee8aa94'}], 'resource_version': '322441', 'self_link': None, 'uid': '7594792e-1310-44a0-9e8e-83a1aa3acfd9'}, 'spec': {'active_deadline_seconds': None, 'affinity': {'node_affinity': None, 'pod_affinity': {'preferred_during_scheduling_ignored_during_execution': [{'pod_affinity_term': {'label_selector': {'match_expressions': [{'key': 'app.kubernetes.io/name', 'operator': 'In', 'values': ['lmp-0-12-size-4-8-8-8']}], 'match_labels': None}, 'namespace_selector': None, 'namespaces': None, 'topology_key': 'topology.kubernetes.io/zone'}, 'weight': 100}], 'required_during_scheduling_ignored_during_execution': None}, 'pod_anti_affinity': {'preferred_during_scheduling_ignored_during_execution': [{'pod_affinity_term': {'label_selector': {'match_expressions': [{'key': 'app.kubernetes.io/name', 'operator': 'In', 'values': ['lmp-0-12-size-4-8-8-8']}], 'match_labels': None}, 'namespace_selector': None, 'namespaces': None, 'topology_key': 'kubernetes.io/hostname'}, 'weight': 100}], 'required_during_scheduling_ignored_during_execution': None}}, 'automount_service_account_token': None, 'containers': [{'args': None, 'command': ['/bin/bash', '/flux_operator/wait-0.sh'], 'env': [{'name': 'JOB_COMPLETION_INDEX', 'value': None, 'value_from': {'config_map_key_ref': None, 'field_ref': {'api_version': 'v1', 'field_path': "metadata.annotations['batch.kubernetes.io/job-completion-index']"}, 'resource_field_ref': None, 'secret_key_ref': None}}], 'env_from': None, 'image': 'ghcr.io/converged-computing/metric-lammps:latest@sha256:e24a1ba8954f5a0a7a0bd854cfc5ca7f82ca12607dc6ace38d838591b8deb8ed', 'image_pull_policy': 'IfNotPresent', 'lifecycle': {'post_start': None, 'pre_stop': None}, 'liveness_probe': None, 'name': 'lmp-0-12-size-4-8-8-8', 'ports': None, 'readiness_probe': None, 'resize_policy': None, 'resources': {'claims': None, 'limits': {'cpu': '2'}, 'requests': {'cpu': '2'}}, 'restart_policy': None, 'security_context': {'allow_privilege_escalation': None, 'capabilities': {'add': None, 'drop': None}, 'privileged': False, 'proc_mount': None, 'read_only_root_filesystem': None, 'run_as_group': None, 'run_as_non_root': None, 'run_as_user': None, 'se_linux_options': None, 'seccomp_profile': None, 'windows_options': None}, 'startup_probe': None, 'stdin': True, 'stdin_once': None, 'termination_message_path': '/dev/termination-log', 'termination_message_policy': 'File', 'tty': True, 'volume_devices': None, 'volume_mounts': [{'mount_path': '/mnt/flux', 'mount_propagation': None, 'name': 'flux-view', 'read_only': None, 'sub_path': None, 'sub_path_expr': None}, {'mount_path': '/flux_operator/', 'mount_propagation': None, 'name': 'lmp-0-12-size-4-8-8-8-entrypoint', 'read_only': True, 'sub_path': None, 'sub_path_expr': None}, {'mount_path': '/var/run/secrets/kubernetes.io/serviceaccount', 'mount_propagation': None, 'name': 'kube-api-access-mcs5f', 'read_only': True, 'sub_path': None, 'sub_path_expr': None}], 'working_dir': '/opt/lammps/examples/reaxff/HNS'}], 'dns_config': None, 'dns_policy': 'ClusterFirst', 'enable_service_links': True, 'ephemeral_containers': None, 'host_aliases': None, 'host_ipc': None, 'host_network': None, 'host_pid': None, 'host_users': None, 'hostname': 'lmp-0-12-size-4-8-8-8-0', 'image_pull_secrets': None, 'init_containers': [{'args': None, 'command': ['/bin/bash', '/flux_operator/flux-init.sh'], 'env': [{'name': 'JOB_COMPLETION_INDEX', 'value': None, 'value_from': {'config_map_key_ref': None, 'field_ref': {'api_version': 'v1', 'field_path': "metadata.annotations['batch.kubernetes.io/job-completion-index']"}, 'resource_field_ref': None, 'secret_key_ref': None}}], 'env_from': None, 'image': 'ghcr.io/converged-computing/flux-view-rocky:tag-9', 'image_pull_policy': 'IfNotPresent', 'lifecycle': None, 'liveness_probe': None, 'name': 'flux-view', 'ports': None, 'readiness_probe': None, 'resize_policy': None, 'resources': {'claims': None, 'limits': None, 'requests': None}, 'restart_policy': None, 'security_context': None, 'startup_probe': None, 'stdin': True, 'stdin_once': None, 'termination_message_path': '/dev/termination-log', 'termination_message_policy': 'File', 'tty': True, 'volume_devices': None, 'volume_mounts': [{'mount_path': '/mnt/flux', 'mount_propagation': None, 'name': 'flux-view', 'read_only': None, 'sub_path': None, 'sub_path_expr': None}, {'mount_path': '/flux_operator/', 'mount_propagation': None, 'name': 'lmp-0-12-size-4-8-8-8-entrypoint', 'read_only': True, 'sub_path': None, 'sub_path_expr': None}, {'mount_path': '/var/run/secrets/kubernetes.io/serviceaccount', 'mount_propagation': None, 'name': 'kube-api-access-mcs5f', 'read_only': True, 'sub_path': None, 'sub_path_expr': None}], 'working_dir': None}], 'node_name': 'gke-test-cluster-default-pool-0ac1ba33-f4wz', 'node_selector': None, 'os': None, 'overhead': None, 'preemption_policy': 'PreemptLowerPriority', 'priority': 0, 'priority_class_name': None, 'readiness_gates': None, 'resource_claims': None, 'restart_policy': 'OnFailure', 'runtime_class_name': None, 'scheduler_name': 'default-scheduler', 'scheduling_gates': None, 'security_context': {'fs_group': None, 'fs_group_change_policy': None, 'run_as_group': None, 'run_as_non_root': None, 'run_as_user': None, 'se_linux_options': None, 'seccomp_profile': None, 'supplemental_groups': None, 'sysctls': None, 'windows_options': None}, 'service_account': 'default', 'service_account_name': 'default', 'set_hostname_as_fqdn': False, 'share_process_namespace': False, 'subdomain': 'fs12048-8-8', 'termination_grace_period_seconds': 30, 'tolerations': [{'effect': 'NoExecute', 'key': 'node.kubernetes.io/not-ready', 'operator': 'Exists', 'toleration_seconds': 300, 'value': None}, {'effect': 'NoExecute', 'key': 'node.kubernetes.io/unreachable', 'operator': 'Exists', 'toleration_seconds': 300, 'value': None}], 'topology_spread_constraints': None, 'volumes': [{'aws_elastic_block_store': None, 'azure_disk': None, 'azure_file': None, 'cephfs': None, 'cinder': None, 'config_map': None, 'csi': None, 'downward_api': None, 'empty_dir': {'medium': None, 'size_limit': None}, 'ephemeral': None, 'fc': None, 'flex_volume': None, 'flocker': None, 'gce_persistent_disk': None, 'git_repo': None, 'glusterfs': None, 'host_path': None, 'iscsi': None, 'name': 'flux-view', 'nfs': None, 'persistent_volume_claim': None, 'photon_persistent_disk': None, 'portworx_volume': None, 'projected': None, 'quobyte': None, 'rbd': None, 'scale_io': None, 'secret': None, 'storageos': None, 'vsphere_volume': None}, {'aws_elastic_block_store': None, 'azure_disk': None, 'azure_file': None, 'cephfs': None, 'cinder': None, 'config_map': {'default_mode': 420, 'items': [{'key': 'wait-0', 'mode': 511, 'path': 'wait-0.sh'}, {'key': 'flux-view', 'mode': 511, 'path': 'flux-init.sh'}, {'key': 'curve.cert', 'mode': None, 'path': 'curve.cert'}], 'name': 'lmp-0-12-size-4-8-8-8-entrypoint', 'optional': None}, 'csi': None, 'downward_api': None, 'empty_dir': None, 'ephemeral': None, 'fc': None, 'flex_volume': None, 'flocker': None, 'gce_persistent_disk': None, 'git_repo': None, 'glusterfs': None, 'host_path': None, 'iscsi': None, 'name': 'lmp-0-12-size-4-8-8-8-entrypoint', 'nfs': None, 'persistent_volume_claim': None, 'photon_persistent_disk': None, 'portworx_volume': None, 'projected': None, 'quobyte': None, 'rbd': None, 'scale_io': None, 'secret': None, 'storageos': None, 'vsphere_volume': None}, {'aws_elastic_block_store': None, 'azure_disk': None, 'azure_file': None, 'cephfs': None, 'cinder': None, 'config_map': None, 'csi': None, 'downward_api': None, 'empty_dir': None, 'ephemeral': None, 'fc': None, 'flex_volume': None, 'flocker': None, 'gce_persistent_disk': None, 'git_repo': None, 'glusterfs': None, 'host_path': None, 'iscsi': None, 'name': 'kube-api-access-mcs5f', 'nfs': None, 'persistent_volume_claim': None, 'photon_persistent_disk': None, 'portworx_volume': None, 'projected': {'default_mode': 420, 'sources': [{'config_map': None, 'downward_api': None, 'secret': None, 'service_account_token': {'audience': None, 'expiration_seconds': 3607, 'path': 'token'}}, {'config_map': {'items': [{'key': 'ca.crt', 'mode': None, 'path': 'ca.crt'}], 'name': 'kube-root-ca.crt', 'optional': None}, 'downward_api': None, 'secret': None, 'service_account_token': None}, {'config_map': None, 'downward_api': {'items': [{'field_ref': {'api_version': 'v1', 'field_path': 'metadata.namespace'}, 'mode': None, 'path': 'namespace', 'resource_field_ref': None}]}, 'secret': None, 'service_account_token': None}]}, 'quobyte': None, 'rbd': None, 'scale_io': None, 'secret': None, 'storageos': None, 'vsphere_volume': None}]}, 'status': {'conditions': [{'last_probe_time': None, 'last_transition_time': datetime.datetime(2024, 1, 14, 23, 42, 9, tzinfo=tzutc()), 'message': None, 'reason': 'PodCompleted', 'status': 'True', 'type': 'Initialized'}, {'last_probe_time': None, 'last_transition_time': datetime.datetime(2024, 1, 14, 23, 44, 40, tzinfo=tzutc()), 'message': None, 'reason': 'PodCompleted', 'status': 'False', 'type': 'Ready'}, {'last_probe_time': None, 'last_transition_time': datetime.datetime(2024, 1, 14, 23, 44, 40, tzinfo=tzutc()), 'message': None, 'reason': 'PodCompleted', 'status': 'False', 'type': 'ContainersReady'}, {'last_probe_time': None, 'last_transition_time': datetime.datetime(2024, 1, 14, 23, 41, 50, tzinfo=tzutc()), 'message': None, 'reason': None, 'status': 'True', 'type': 'PodScheduled'}], 'container_statuses': [{'allocated_resources': None, 'container_id': 'containerd://a0b757f7009edc4ae2b2a50c262b1ed453b8960f43b5ff7462f64645a4db69cc', 'image': 'sha256:a92aab4c08132af0f099265175f1eafd58ca0b771468051336504fdb90506ad5', 'image_id': 'ghcr.io/converged-computing/metric-lammps@sha256:e24a1ba8954f5a0a7a0bd854cfc5ca7f82ca12607dc6ace38d838591b8deb8ed', 'last_state': {'running': None, 'terminated': None, 'waiting': None}, 'name': 'lmp-0-12-size-4-8-8-8', 'ready': False, 'resources': None, 'restart_count': 0, 'started': False, 'state': {'running': None, 'terminated': {'container_id': 'containerd://a0b757f7009edc4ae2b2a50c262b1ed453b8960f43b5ff7462f64645a4db69cc', 'exit_code': 0, 'finished_at': datetime.datetime(2024, 1, 14, 23, 44, 40, tzinfo=tzutc()), 'message': None, 'reason': 'Completed', 'signal': None, 'started_at': datetime.datetime(2024, 1, 14, 23, 42, 9, tzinfo=tzutc())}, 'waiting': None}}], 'ephemeral_container_statuses': None, 'host_ip': '10.128.15.237', 'host_i_ps': None, 'init_container_statuses': [{'allocated_resources': None, 'container_id': 'containerd://ac73e9a3176abb6b3a098055592ba6fbe85178173cfd052cdb423da9a033a598', 'image': 'ghcr.io/converged-computing/flux-view-rocky:tag-9', 'image_id': 'ghcr.io/converged-computing/flux-view-rocky@sha256:23ac00ca76c7d2fd4a530cc4390195b2af72a3b8fbdc6257c181fa03d3edfe67', 'last_state': {'running': None, 'terminated': None, 'waiting': None}, 'name': 'flux-view', 'ready': True, 'resources': None, 'restart_count': 0, 'started': None, 'state': {'running': None, 'terminated': {'container_id': 'containerd://ac73e9a3176abb6b3a098055592ba6fbe85178173cfd052cdb423da9a033a598', 'exit_code': 0, 'finished_at': datetime.datetime(2024, 1, 14, 23, 42, 5, tzinfo=tzutc()), 'message': None, 'reason': 'Completed', 'signal': None, 'started_at': datetime.datetime(2024, 1, 14, 23, 41, 50, tzinfo=tzutc())}, 'waiting': None}}], 'message': None, 'nominated_node_name': None, 'phase': 'Succeeded', 'pod_ip': None, 'pod_i_ps': None, 'qos_class': 'Burstable', 'reason': None, 'resize': None, 'resource_claim_statuses': None, 'start_time': datetime.datetime(2024, 1, 14, 23, 41, 50, tzinfo=tzutc())}}
===
Mapping: recorded-at: 2024-01-14 23:44:41.643311
Mapping for job default-batch-0-iter-12-size-4-8-8-8 for scheduler default
lmp-0-12-size-4-8-8-8-0-8ndt9 --> gke-test-cluster-default-pool-0ac1ba33-f4wz
lmp-0-12-size-4-8-8-8-1-p8f56 --> gke-test-cluster-default-pool-0ac1ba33-z0fq
lmp-0-12-size-4-8-8-8-2-6rqqp --> gke-test-cluster-default-pool-0ac1ba33-44g2
lmp-0-12-size-4-8-8-8-3-wvvvt --> gke-test-cluster-default-pool-0ac1ba33-nbc5
gke-test-cluster-default-pool-0ac1ba33-f4wz ran 1 pods in zone us-central1-a
gke-test-cluster-default-pool-0ac1ba33-z0fq ran 1 pods in zone us-central1-a
gke-test-cluster-default-pool-0ac1ba33-44g2 ran 1 pods in zone us-central1-a
gke-test-cluster-default-pool-0ac1ba33-nbc5 ran 1 pods in zone us-central1-a

===
Config: recorded-at: 2024-01-14 23:44:41.643458
Run configuration for job default-batch-0-iter-12-size-4-8-8-8:
===
{
    "params": {
        "x": 8,
        "y": 8,
        "z": 8,
        "cpu_limit": 2,
        "tasks": 8,
        "size": 4,
        "min_size": 2,
        "name": "lmp-0-12-size-4-8-8-8",
        "service_name": "fs12048-8-8"
    },
    "iter": 12,
    "start_time": "2024-01-14 23:41:47.822958"
}
====

===
Times: recorded-at: 2024-01-14 23:44:42.305460
{"end_time": "2024-01-14 23:44:41.068814", "start_time": "2024-01-14 23:41:47.822958", "total_time": 173.245856, "uid": "default-batch-0-iter-12-size-4-8-8-8"}